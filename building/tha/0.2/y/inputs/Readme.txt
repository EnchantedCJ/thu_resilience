程序使用说明：

1. GMs  该文件夹存储了地震动数据
	里面的地震动都经过了归一化，一般不需要修改，除非需要添加新地震动
	目前GMs中包含Elcentro地震动和PEER推荐的22条远场地震动

2. input 该文件夹包含计算模型信息以及程序的配置信息
	2.1 BlgAttribute.txt
		该文件用于给出每栋建筑的描述性信息
		例如：
20																					
Blg_LB	Stories	height	Year	T1	T2	Area	DI	Site_CD	Site GP	YieldOver	PeakOver	YieldStiff	PGA	dt	Ttime	StrucType	matcodeinput	OutputCtrl	BlgCondition	MasonryWallRatio	
1	2	7.25928	2010	-1	-1	493.7143	6	2	1	-1	-1	-1	1	-1	25	2	0	1111	-1	-1	-1
2	2	7.25928	2010	-1	-1	493.7143	6	2	1	-1	-1	-1	2	-1	25	2	0	1111	-1	-1	-1
3	2	7.25928	2010	-1	-1	493.7143	6	2	1	-1	-1	-1	3	-1	25	2	0	1111	-1	-1	-1
4	2	7.25928	2010	-1	-1	493.7143	6	2	1	-1	-1	-1	4	-1	25	2	0	1111	-1	-1	-1

		以上数据每行代表一栋建筑的计算输入，每个字段数据的意义表述如下
		文件最开头列出建筑总个数
		integer Blg_LB	!建筑编号
		integer Stories	!结构层数
		integer Year !建设年代
		real*8 height	!结构总高度 （单位m）
		real*8 T1	!一阶周期（单位s 如果输入-1，则程序自动根据经验公式计算）
		real*8 T2	!二阶周期（单位s 如果输入-1，则程序自动根据经验公式计算）
		real*8 Area	!建筑单层面积 （单位m2）
		real*8 IM	!设防等级（e.g., 七度半写作7.5）
		integer Site_CD	!场地类型
		integer Site_GP	!地震分组
		real*8 YieldOver	!屈服超强
		real*8 PeakOver	!峰值超强
		real*8 YieldStiff	!屈服后刚度系数
		real*8 PGA	!地震动峰值加速度  EQ=EQ*PGA，单位是m/s2（e.g., 400gal写作4）
		real*8 dt	!中心差分法时间步（s）
		real*8 Totaltime	!总计算时间（s）
		integer StrucType	
		!结构类型：
		!0为框架结构 
		!1为框剪结构 
		!2为无设防砌体
		!3为有设防砌体
		integer matcodeinput	
			!层间参数输入方式: 
			!0为根据BlgAttribute生成props，props不输出；
			!1为根据外部matcode.txt输入； （此时将matcode文件放在input文件夹，例如Blg_LB为1的建筑，将matcode1.txt放在input文件夹）
			!2为根据BlgAttribute生成props，props输入到外部./results/matcode(Blg_LB).txt
			!3只生成matcode不进行计算
		integer OutputCtrl 选择性输出结果文件，此处输入一个整数
			!控制输出的计算结果文件（以下位数为从右往左数，例如个位为第1位）
			! 1位 楼层位移时程 （0 为不输出任何结果，1为输出顶层位移时程结果， 2为输出所有层位移时程结果）
			! 2位 层间位移角控制 （0为不输出层间位移角，1 为输出层间位移角）
			! 3位 屏幕结果输出 （0为屏幕不输出结果， 1为屏幕输出简单结果， 2 为屏幕输出详细结果）
			! 4位 算伤结果输出
				! 0-不输出损伤结果
				! 1-输出详细损伤结果
				! 2-输出每栋建筑各层各时间步损伤（倒塌后全为4，服务于Paraview可视化）
				! 3-为输出每栋建筑破坏状态于1个文件中
				! 4-在1基础上输入每栋建筑各层破坏准则
			! 5位 cpu time （0为不输出计算时间， 1为输出计算时间）
			! 6位 输出加速度时程 （0为不输出， 1为输出绝对顶层加速度时程， 2为输出所有层加速度时程）
			! 7位 输出TopDisp.txt (0为不输出， 1为输出)
			! 8位 输出EDPs.txt （0为不输出， 1为输出（不含弯剪转角），2为输出（含弯剪转角））
			! 9位 输出经济损失Loss.txt （0为不输出， 1为输出）
			! 10位 输出滞回Hys.txt （0为不输出， 1为输出）
			! 11位 输出所有建筑各层位移时程用于后处理显示 (0为不输出，1为输出）
			! 12位 输出速度时程 （0为不输出， 1为输出顶层相对速度时程， 2为输出所有层相对速度时程）
			! 13位 输出人员感受状态  (0为不输出，1为输出每栋建筑各楼层人员感受状态)
		integer BlgCondition （有待完善，先不用管）
		real*8 MasonryWallRatio （有待完善，先不用管）
		real*8  Width （结构平面宽度 单位m）
		注意：以上有的字段可以采用默认值，此时填写值为-1.可以采用默认值的字段为（T1	T2	YieldOver	PeakOver	YieldStiff	dt	BlgCondition	MasonryWallRatio）
		
	2.2 config.txt 包含程序计算的配置信息
		结构阻尼，输出时间步长，结构种数，单位面积质量, 使用随机参数生成, 考虑年代折减, 基于骨架线损伤限值, 地震动计算模式
		0.05		0.01	4		1000	0		1		1			2
		说明：
		1. 结构阻尼：指定全局阻尼，0.05表示计算的所用建筑都采用0.05的阻尼系数。如果输出-1，程序将根据Hazus的规定对不同类型结构给定其阻尼系数 框剪0.05 框架0.07 砌体0.1
		2. 输出时间步长：时程分析的输出结果的时间步长。程序根据中心差分法稳定条件，每栋建筑的计算步长各不一样，此处可以统一输出步长。
		3. 结构种数：程序能考虑的结构种数，不用修改。
		4. 单位面积质量：结构每平米质量，默认为1000kg/m2
		5. 使用随机参数生成：是否采用随机的方式生成结构的超强系数等参数， 0为不采用，1 为采用
		6. 考虑年代折减：是否考虑年代承载力折减。0为不考虑，1 为考虑
		7. 基于骨架线损伤限值：是否采用基于骨架线的损伤限值方法。0为不是，1 为是
		8. 地震动计算模式：切换EQList中的地震动的使用方式。
			0表示每栋建筑都需要算EQList中的每一条地震动，
			1表示建筑与EQList中的地震动一一对应计算，此时EQList中的地震动数量需要大于等于BlgAttribute中的建筑数量。
			2表示采用阵列格式的地震动数据进行计算，地震动文件的列数表示地震动的数量，改数量需要大于等于建筑数量。
			3的计算方式同0，只不过针对中国的类PEER格式的地震动记录文件（汶川地震格式）
			4的计算方式同0，只不过针对PEER-NGA格式的地震动记录文件
			5的计算方式同1，只不过考虑到并行需要，增加文件EQGM_List.txt写入所有地震动名称，在程序中先行读入，避免重复读入占用内存过多
			即EQ_LIST.txt中地震动与建筑一一对应，与建筑数量相同；EQGM_List.txt为GMs文件夹中地震动的名称列表。
		9. 并行线程数量
	2.3 EQ_LIST.txt
		指定需要计算的地震动名称，该名称必须与GMs中的地震动名称相对应。
		如果地震动计算模式为4  则第二列数为调幅系数 (e.g. B2-8\\RSN57_SFERN_ORR021.AT2	0.8)
		 

3 注意事项
	1) 计算只需要修改EQ_LIST.txt 文件和BlgAttributes.txt文件就好了，注意文件最后不要有空行
	2) 开始计算只需要双击Flexural_Shear_0.0.exe就好了
	
	
	
	
topDisp.txt和EDPs.txt文件说明
设一共nob栋建筑，nor条地震动记录

需要输出两个文件：



1. topDisp.txt: (输出最大顶点位移，共nob行，nor+1列)

建筑编号1 最大顶点位移1 最大顶点位移2 ... 最大顶点位移nor
建筑编号2 最大顶点位移1 最大顶点位移2 ... 最大顶点位移nor
...
建筑编号nob 最大顶点位移1 最大顶点位移2 ... 最大顶点位移nor




2. EDPs.txt: (输出各层最大楼层加速度（单位m/s2），各层层间位移角，建筑的最大残余位移角。每个建筑占nor行，2N+2列，N为该建筑层数)

1层最大位移角 2层最大位移角 ... N层最大位移角 0层（地面）最大加速度 1层最大加速度 ... N层最大加速度 最大残余位移角 （这一行是地震动1生成的）
1层最大位移角 2层最大位移角 ... N层最大位移角 0层（地面）最大加速度 1层最大加速度 ... N层最大加速度 最大残余位移角 （这一行是地震动2生成的）
...
1层最大位移角 2层最大位移角 ... N层最大位移角 0层（地面）最大加速度 1层最大加速度 ... N层最大加速度 最大残余位移角 （这一行是地震动nor生成的）
(以上nor行，2N+2列的矩阵块是建筑1的结果。接下来重复上述格式，一共nob个矩阵块。参考示例文件EDPs.txt。)
若输出EDPs为选项为2，则弯剪模型输出：N最大位移角+N楼层转角+(N+1)最大加速度+1最大残余位移角